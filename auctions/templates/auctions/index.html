{% extends "auctions/layout.html" %}
{% load static %}
{% block head %} 
<style>
    a{
        text-decoration: none;
        color: black;
    }
    a:link{
        text-decoration: none;
    }
    a:hover{
        color: #2596be;
    }
    .auctionItem{
        display: flex;
        flex-wrap: nowrap;
        align-items: center;
        height:300px;
        width: 98%;
        border: 1px solid black;
        margin:10px;
        padding:10px;
        background-color: #F5F5F5;
    }
    .itemPicture{
        height: 250px;
        width: 300px;
        margin-right: 80px;
    }
    .dropbtn {
        background-color: #f1f1f1;
        color: black;
        padding: 16px;
        font-size: 16px;
        border: none;
        }

    .dropdown {
        position: relative;
        display: inline-block;
        }

    .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f1f1f1;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 1;
        }

    .dropdown-content a {
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
        }

    .dropdown-content a:hover {background-color: #ddd;}

    .dropdown:hover .dropdown-content {display: block;}

    .dropdown:hover .dropbtn {background-color: #2596be;}
</style>
{% endblock head %}

{% block body %}
    <div style="display:flex; justify-content: flex-start;">
        <h2>Active Listings</h2>
        {% if categories %}
        <div class="dropdown" style="margin-left: 63px;">
            <button class="dropbtn">Categories</button>
            <div class="dropdown-content">
                {% for category in categories %}
                    <a href="{% url 'show_category' type=category %}">{{ category }}</a>
                {% endfor %}
            </div>
        </div>
        {% endif %}
    </div>
    {% if user.is_authenticated %}
        {% for item in items %}
            {% if item.active %}
            <a href="{% url 'item_page' item_id=item.id %}">
                <div class="auctionItem">
                    <image class="itemPicture" src="{{ item.item_picture }}" alt="{{ item.title }}"></image>
                    <div>
                        <h5>{{item.title}}</h5>
                        <p class="lead"><small>{{item.description|truncatechars:50}}</small></p>
                        <h6><strong>Starting price: </strong>${{item.starting_bid}}</h6>
                        <h6 class="text-muted">Posted by: {{item.owner.username}}</h6>
                    </div>
                </div>
            </a>
            {% endif %}
        {% endfor %}

    {% endif %}
{% endblock %}